<html>

  <head>

    <title>Battle | Ship</title>
    <link href="css/main.css" type="text/css" rel="stylesheet"></link>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/underscore.min.js"></script>

  </head>


  <body>

    <div id="grid">
      
      <div id="user_side" class="user-side"></div>

      <div id="machine_side" class="machine-side"></div>

      <button id="popup_window" data-popup-target="#firing-popup">

        AIM

      </button>
 
        <div id="firing-popup" class="popup">

          <div class="popup-body">

            <span class="popup-exit"></span>
 
            <div class="popup-content">

              <h2 class="popup-title">

                Input Firing Coordinates

              </h2>
 
              <p1>

                X:

              </p1>

              <br></br>

              <p2>

                Y:

              </p2>
      
            </div>
    
          </div>
  
        </div>

        <div class="popup-overlay"></div>

        <script type="text/javascript">
            $(document).ready(function(event){
              
              start();

              $(".grid-cell").click(function(){
                var x = $(this).data("x");
                var y = $(this).data("y");

                alert("X:"+x+" | "+"Y:"+y);

                $(this).removeData("x");
                $(this).removeData("y");

              });

              $('[data-popup-target]').click(function () {
                  $('html').addClass('overlay');
                  var activePopup = $(this).attr('data-popup-target');
                  $(activePopup).addClass('visible');
           
              });
       
              $(document).keyup(function (e) {
                  if (e.keyCode == 27 && $('html').hasClass('overlay')) {
                      clearPopup();
                  }
              });
       
              $('.popup-exit').click(function () {
                  clearPopup();
           
              });
       
              $('.popup-overlay').click(function () {
                  clearPopup();
              });
       
              function clearPopup() {
                  $('.popup.visible').addClass('transitioning').removeClass('visible');
                  $('html').removeClass('overlay');
       
              setTimeout(function () {
                  $('.popup').removeClass('transitioning');
                }, 200);
              }
            });

        </script>

    </div>

  </body>

</html>